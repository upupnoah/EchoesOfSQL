# 存储：一个完整的数据存储过程

![https://static001.geekbang.org/resource/image/8b/b1/8b8b594631a175e3016686da88d569b1.jpg?wh=1803*363](https://static001.geekbang.org/resource/image/8b/b1/8b8b594631a175e3016686da88d569b1.jpg?wh=1803*363)

# 创建数据库

`CREATE DATABASE demo;`

# 查看数据库

`SHOW DATABASES;`

- information_schema: 保存 MySQL 数据库服务器的系统信息（数据库的名称、数据表的名称、字段名称、存取权限、数据文件所在的文件夹和系统使用的文件夹，等等）
- performance_schema: 用来监控 MySQL 的各类性能指标
- sys： 更容易被理解的方式展示 MySQL 系统自带的数据库，可以用来监控 MySQL 的各类性能指标
- mysql： 保存了 MySQL 数据库服务器运行时需要的系统信息（数据文件夹、当前使用的字符集、约束检查信息，等等）

[MySQL 官方文档](https://dev.mysql.com/doc/refman/8.0/en/)

# 确认字段

- 行：记录
- 列：字段 （需要定义字段类型）

# 创建数据表

```sql
CREATE TABLE demo.test
( 
  barcode text,
  goodsname text,
  price int
);
```

- **创建表的时候，最好指明数据库**
- **不要在最后一个字段的后面加逗号“,”**

## 查看表的结构

`DESCRIBE demo.test;`

- Field：表示字段名称。
- Type：表示字段类型，这里 barcode、goodsname 是文本型的，price 是整数类型的。
- Null：表示这个字段是否允许是空值（NULL）。这里你一定要注意，在 MySQL 里面，空值不等于空字符串。一个空字符串的长度是 0，而一个空值的长度是空。而且，在 MySQL 里面，空值是占用空间的。
- Key：我们暂时把它叫做键。
- Default：表示默认值。我们导入的表的所有的字段都允许是空，默认值都是 NULL。
- Extra：表示附加信息。

## 查看数据库中的表

- 先选择数据库 `USE demo;`
- 再执行 `SHOW TABLES` 命令

## 设置主键

**因为主键可以确保数据的唯一性，而且能够减少数据错误**

### 主键的特征

1. 必须唯一，不能重复
2. 不能是空
3. 必须可以唯一标识数据表中的记录

**建议一定要给表定义主键，并且养成习惯。因为主键可以帮助你减少错误数据，并且提高查询的速度**

必要时可以自己添加一个不会重复的字段

# 插入数据

```sql
# 修改表，插入一个新字段
ALTER TABLE demo.test
ADD COLUMN itemnumber int PRIMARY KEY AUTO_INCREMENT;
```

```sql
INSERT INTO demo.test
(barcode,goodsname,price)
VALUES ('0001','本',3);
```

1. 要插入数据的字段名也可以不写，但是我建议你不要怕麻烦，**一定要每次都写**。这样做的好处是可读性好，不易出错，而且容易修改
2. 由于字段 itemnumber 定义了 AUTO_INCREMENT，所以我们插入一条记录的时候，不给它赋值，系统也会自动给它赋值。而且，每次赋值，都会在上次的赋值基础上，自动增加 1

# 总结

**写的每一条 SQL 语句的最后，都必须有一个分号，否则，MySQL 会认为这条语句没有完成，提示语法错误**。

```sql
-- 创建数据库
CREATE DATABASE demo；
-- 删除数据库
DROP DATABASE demo；
-- 查看数据库
SHOW DATABASES;
-- 创建数据表：
CREATE TABLE demo.test
(  
  barcode text,
  goodsname text,
  price int
); 
-- 查看表结构
DESCRIBE demo.test;
-- 查看所有表
SHOW TABLES;
-- 添加主键
ALTER TABLE demo.test
ADD COLUMN itemnumber int PRIMARY KEY AUTO_INCREMENT;
-- 向表中添加数据
INSERT INTO demo.test
(barcode,goodsname,price)
VALUES ('0001','本',3);
```